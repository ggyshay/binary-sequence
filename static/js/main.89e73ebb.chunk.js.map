{"version":3,"sources":["statics/alert.wav","api.js","components/ToggleSwitch.jsx","rule-compiler.js","components/Input.jsx","pages/Dashboard.jsx","pages/Error.jsx","auth.js","pages/Login.jsx","pages/IndexScreen.jsx","App.jsx","serviceWorker.js","index.js"],"names":["module","exports","API","setupApiCallbacks","ws","WebSocket","callbacks","onmessage","msg","data","JSON","parse","error","msg_type","reject","resolve","onopen","console","log","setTimeout","onOpenCB","reset","a","readyState","CLOSED","CLOSING","cancelSubscription","close","authorize","startTicks","resetTimer","timeout","clearTimeout","send","req","stringify","handleProposalResponse","id","proposal","finishBuy","ask_price","onOpen","cb","pushToStack","d","stack","length","shift","push","setOnData","f","tickCB","tick","t","undefined","lastValue","isPlaying","delta","quote","pausedTicks","callback","Promise","ticks","symbol","token","userToken","unpause","setShouldFreeze","b","buy","amount","isUp","basis","contract_type","currency","duration","duration_unit","price","forget_all","this","resolution","errorCB","isAuthorized","onerror","ToggleSwitch","props","className","isOn","onClick","label","RULES","rule","colors","flag","split_rules","res","i","delta_s","substr","split","parseInt","match_lista","numbers","rules","validate_number","n","r","operand","eh_par","menor_ou_igual","maior","menor","diferenca","vale","d1","d2","v","Input","onChange","e","target","value","Dashboard","useState","queue","setQueue","ruleFeedback","setRuleFeedback","automaticTradeEnabled","setAutomaticTradeEnabled","result","setResult","inicialTradeAmount","setInicialTradeAmount","tradeAmount","setTradeAmount","soundEnabled","setSoundEnabled","nErrors","setNErrors","maxNErrors","setMaxNErrors","amountMultiplier","setAmountMultiplier","useSound","alertSound","play","setAutomaticTradeEnabledPersistent","window","localStorage","setItem","useEffect","ATE","getItem","q","_q","lastDigit","Math","round","pow","color","epoch","resumeAnalisys","onUnpause","_decisionValue","map","decisionValue","rose","nE","handlePredictionError","seq","input_numbers","input_colors","toString","replace","offset","numbers_w","input_colors_w","inputColorsString","mResult","testSequence","reduce","acc","cur","style","display","justifyContent","showIndexScreen","clear","logout","point","fontSize","margin","key","ErrorPage","firebase","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","auth","email","password","signInWithEmailAndPassword","db","collection","where","get","forEach","doc","userDoc","user","binary_token","ref","set","Login","setEmail","setPassword","setToken","handleLogin","onLogin","onAuthorize","type","IndexScreen","setValue","decimalPlacesDict","R_100","R_75","R_50","R_25","R_10","App","setIsAuthorized","isOpen","setIsOpen","err","setErr","isLogedIn","setIsLogedIn","setShowIndexScreen","setResolution","newSymbol","onError","Boolean","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","message"],"mappings":"4GAAAA,EAAOC,QAAU,IAA0B,mC,yOCiL9BC,EAAM,IAvKjB,aAAe,IAAD,gCAiBdC,kBAAoB,WAClB,EAAKC,GAAK,IAAIC,UAAU,oDACxB,EAAKC,UAAY,GAEjB,EAAKF,GAAGG,UAAY,SAACC,GACnB,IAAMC,EAAOC,KAAKC,MAAMH,EAAIC,MAE5B,OAAIA,EAAKG,MACA,EAAKN,UAAUG,EAAKI,UAAUC,OAAOL,EAAKG,QAE9C,EAAKN,UAAUG,EAAKI,UAGlB,EAAKP,UAAUG,EAAKI,UAAUE,QAAQN,KAE/C,EAAKL,GAAGY,OAAS,WACfC,QAAQC,IAAI,QACZC,WAAW,EAAKC,SAAU,OAlChB,KAuCdC,MAvCc,sBAuCN,sBAAAC,EAAA,yDACNL,QAAQC,IAAI,YAEV,EAAKd,GAAGmB,aAAe,EAAKnB,GAAGoB,QAC/B,EAAKpB,GAAGmB,aAAe,EAAKnB,GAAGqB,QAJ3B,gCAME,EAAKC,qBANP,OAOJT,QAAQC,IAAI,oBACZ,EAAKd,GAAGuB,QACRV,QAAQC,IAAI,UATR,OAWNC,YAAW,WACT,EAAKC,SAAL,sBAAgB,sBAAAE,EAAA,sEACR,EAAKM,YADG,OAEd,EAAKC,aAFS,2CAIhB,EAAK1B,sBACJ,KAjBG,2CAvCM,KA2Dd2B,WAAa,WACP,EAAKC,SACPC,aAAa,EAAKD,SAEpB,EAAKA,QAAUZ,WAAW,EAAKE,MAAO,MA/D1B,KAkEdY,KAAO,SAACC,GAAD,OAAS,EAAK9B,GAAG6B,KAAKvB,KAAKyB,UAAUD,KAlE9B,KAmEdE,uBAAyB,SAAC3B,GACxB,IAAM4B,EAAK5B,EAAK6B,SAASD,GACzB,EAAKE,UAAUF,EAAI5B,EAAK6B,SAASE,YArErB,KAuEdC,OAAS,SAACC,GAAD,OAAS,EAAKtB,SAAWsB,GAvEpB,KAwEdC,YAAc,SAACC,GACT,EAAKC,MAAMC,OAAS,IACtB,EAAKD,MAAME,QAEb,EAAKF,MAAMG,KAAKJ,IA5EJ,KA8EdK,UAAY,SAACC,GACX,EAAKC,OAAS,SAAC1C,GAIb,GAHAQ,QAAQC,IAAI,QACZ,EAAKY,aACDrB,EAAK6B,UAAU,EAAKF,uBAAuB3B,GAC1CA,EAAK2C,KAAV,CACA,IAAMC,EAA+B5C,EAAK2C,KAC1C,EAAKT,YAAYU,QACKC,GAAlB,EAAKC,UAKL,EAAKC,WACPN,EAAE,eAAKG,EAAN,CAASI,MAAOJ,EAAEK,MAAQ,EAAKH,aAChC,EAAKA,UAAYF,EAAEK,QAEnB,EAAKC,cACoB,IAArB,EAAKA,aACP,EAAKC,UAAY,EAAKA,SAASP,EAAEK,MAAO,EAAKH,UAAW,EAAKV,QAV/D,EAAKU,UAAYF,EAAEK,SAvFX,KAuGd7B,WAAa,kBACX,IAAIgC,SAAQ,SAAC9C,EAASD,GACpBG,QAAQC,IAAI,cACZ,EAAKe,KAAK,CAAE6B,MAAO,EAAKC,SACxB,EAAKzD,UAAL,KAAyB,CAAES,QAAS,EAAKoC,OAAQrC,UACjDG,QAAQC,IAAI,uBAAwB,EAAKZ,eA5G/B,KA+GdsB,UAAY,SAACoC,GAAD,OACV,IAAIH,SAAQ,SAAC9C,EAASD,GACfkD,GAGH,EAAK/B,KAAK,CAAEL,UAAWoC,IACvB,EAAKC,UAAYD,GAHjB,EAAK/B,KAAK,CAAEL,UAAW,EAAKqC,YAK9B,EAAK3D,UAAL,UAA8B,CAAES,UAASD,cAvH/B,KA2HdoD,QAAU,WACR,EAAKV,WAAY,GA5HL,KA+HdW,gBAAkB,SAACC,EAAG1B,GAChB0B,GAAK,EAAKZ,YACZ,EAAKA,WAAY,EACjB,EAAKG,YAAc,EACnB,EAAKC,SAAWlB,IAnIN,KAuId2B,IAvIc,uCAuIR,WAAOC,EAAQC,GAAf,iBAAAjD,EAAA,sEACe,IAAIuC,SAAQ,SAAC9C,EAASD,GACvCG,QAAQC,IAAI,WAAYoD,EAAQC,EAAO,KAAO,QAC9C,EAAKtC,KAAK,CACRK,SAAU,EACVgC,OAAQA,EACRE,MAAO,QACPC,cAAeF,EAAO,OAAS,MAC/BG,SAAU,MACVC,SAAU,EACVC,cAAe,IACfb,OAAQ,EAAKA,SAEf,EAAKzD,UAAL,SAA6B,CAAES,UAASD,aAbtC,cACEL,EADF,OAeE4B,EAAK5B,EAAK6B,SAASD,GAfrB,kBAgBG,IAAIwB,SAAQ,SAAC9C,EAASD,GAC3B,EAAKmB,KAAK,CACRoC,IAAKhC,EACLwC,MAAOpE,EAAK6B,SAASE,YAEvB,EAAKlC,UAAL,IAAwB,CAAES,UAASD,cArBjC,2CAvIQ,6DAgKdY,mBAAqB,kBACnB,IAAImC,SAAQ,SAAC9C,EAASD,GACpB,EAAKmB,KAAK,CAAE6C,WAAY,UACxB,EAAKxE,UAAL,WAA+B,CAAES,UAASD,cAlK5CiE,KAAKpB,YAAc,EACnBoB,KAAKC,WAAa,EAClBD,KAAKhB,OAAS,QACdgB,KAAKnB,cAAWN,EAChByB,KAAK3D,cAAWkC,EAChByB,KAAKhD,aAAUuB,EACfyB,KAAKE,aAAU3B,EACfyB,KAAK5E,oBACL4E,KAAKxB,eAAYD,EACjByB,KAAKvB,WAAY,EACjBuB,KAAKG,cAAe,EACpBH,KAAKlC,MAAQ,GACbkC,KAAK3E,GAAG+E,QAAUlE,QAAQL,MAC1BmE,KAAKd,eAAYX,G,gBCrBR8B,G,MAAe,SAACC,GAC3B,OACE,yBAAKC,UAAU,YACb,yBACEA,UAAW,gBAAkBD,EAAME,KAAO,SAAW,IACrDC,QAASH,EAAMG,SAEf,yBAAKF,UAAU,eAEhBD,EAAMI,OAAS,uBAAGH,UAAU,YAAYD,EAAMI,U,QCZ/CC,EAAQ,CAGd,CAACC,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAK/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,GAC/C,CAACF,KAAM,CAAC,IAAK,MAAO,OAAQC,OAAQ,MAAMC,MAAK,IAiB/C,SAASC,EAAYH,GAGnB,IAFA,IAAII,EAAM,GACNC,EAAI,EACDA,EAAIL,EAAK7C,QACd,GAAgB,MAAZ6C,EAAKK,IAA0B,MAAZL,EAAKK,GAC1BD,EAAI/C,KAAK,CAAC2C,EAAKK,GAAI,EAAG,IACtBA,GAAK,OACA,GAAgB,MAAZL,EAAKK,GAAY,CAC1B,IAAMC,EAAUN,EAAKO,OAAOF,GAAGG,MAAM,SAAS,GAC9CJ,EAAI/C,KAAK,CAAC2C,EAAKK,GAAIL,EAAKK,EAAI,GAAK,EAAGI,SAASH,KAC7CD,GAAKC,EAAQnD,OAAS,OAEtBiD,EAAI/C,KAAK,CAAC2C,EAAKK,GAAIL,EAAKK,EAAI,GAAK,EAAG,IACpCA,GAAK,EAIT,OAAOD,EAGT,SAASM,EAAYC,EAASC,GAE5B,IAAK,IAAIP,EAAI,EAAGA,EAAIO,EAAMzD,OAAQkD,IAChC,IAAKQ,EAAgBF,EAAQN,GAAIF,EAAYS,EAAMP,IAAKM,GACtD,OAAO,EAIX,OAAO,EAwCT,SAASE,EAAgBC,EAAGF,EAAOD,GAAS,oBAE5BC,GAF4B,IAE1C,2BAAqB,CAAC,IAAbG,EAAY,QACff,EAAOe,EAAE,GACTC,EAAUL,EAAQI,EAAE,IACpBjD,EAAQiD,EAAE,GACd,GAAa,MAATf,GAAyBc,EA0BpB,IAAM,EAzBb,OAAO,EACF,GAAa,MAATd,GAAgBiB,EAAOH,GAChC,OAAO,EACF,GAAa,MAATd,GAA+Bc,GAAGE,EAC3C,OAAO,EACF,GAAa,MAAThB,GAAgBkB,EAAeJ,EAAGE,GAC3C,OAAO,EACF,GAAa,MAAThB,GAAgBmB,EAAML,EAAGE,GAClC,OAAO,EACF,GAAa,MAAThB,GAAgBoB,EAAMN,EAAGE,GAClC,OAAO,EACF,GAAa,MAAThB,IAAiBqB,EAAUP,EAAGE,EAASlD,GAChD,OAAO,EACF,GAAa,MAATkC,IAAiBsB,EAAKR,EAAGC,EAAE,GAAK,GACzC,OAAO,GArB+B,8BAwB1C,OAAO,EAGT,SAASE,EAAOhE,GACd,OAAOA,EAAI,IAAM,EAWnB,SAASmE,EAAMG,EAAIC,GACjB,OAAOD,EAAKC,EAGd,SAASL,EAAMI,EAAIC,GACjB,OAAOD,EAAKC,EAGd,SAASN,EAAeK,EAAIC,GAC1B,OAAOD,GAAMC,EAGf,SAASH,EAAUE,EAAIC,EAAI1D,GACzB,OAAOyD,EAAKC,IAAO1D,EAGrB,SAASwD,EAAKC,EAAIE,GAChB,OAAOF,IAAOE,E,6BC7JHC,EAAQ,SAAChC,GAAD,OACnB,6BACE,2BAAIA,EAAMI,OACV,2BACE6B,SAAU,SAACC,GAAD,OAAOlC,EAAMiC,SAASC,EAAEC,OAAOC,QACzCA,MAAOpC,EAAMoC,UCGNC,EAAY,SAACrC,GAAW,IAAD,EACRsC,mBAAS,IADD,mBAC3BC,EAD2B,KACpBC,EADoB,OAEMF,mBAAS,IAFf,mBAE3BG,EAF2B,KAEbC,EAFa,OAGwBJ,oBAAS,GAHjC,mBAG3BK,EAH2B,KAGJC,EAHI,OAINN,wBAASrE,GAJH,mBAI3B4E,EAJ2B,KAInBC,EAJmB,OAKkBR,mBAAS,GAL3B,mBAK3BS,EAL2B,KAKPC,EALO,OAMIV,mBAAS,GANb,mBAM3BW,EAN2B,KAMdC,EANc,OAOMZ,oBAAS,GAPf,mBAO3Ba,EAP2B,KAObC,EAPa,OAQJd,mBAAS,GARL,mBAQ3Be,EAR2B,KAQlBC,EARkB,OASEhB,mBAAS,GATX,mBAS3BiB,EAT2B,KASfC,EATe,OAUclB,mBAAS,GAVvB,mBAU3BmB,EAV2B,KAUTC,EAVS,OAWnBC,YAASC,KAAjBC,GAX2B,oBAc5BC,GAAqC,SAAC1B,GAC1C2B,OAAOC,aAAaC,QAAQ,wBAAyB7B,GACrDQ,EAAyBR,IAE3B8B,qBAAU,WACR,IAAMC,EAAMJ,OAAOC,aAAaI,QAAQ,yBACxCxB,EAAyBuB,GAiBzBtJ,EAAI+C,WAhBmB,SAACL,GACtBiF,GAAS,SAAC6B,GACR,IAAIC,EAAE,YAAOD,GAWb,OAVAC,EAAG3G,KAAK,CACNyE,MAAO7E,EAAEc,MACTkG,UAAWC,KAAKC,MAAMlH,EAAEc,MAAQmG,KAAKE,IAAI,GAAI1E,EAAML,aAAe,GAClEgF,MAAOpH,EAAEa,MAAQ,EAAI,OAAS,MAC9BpB,GAAIO,EAAEqH,QAEJN,EAAG7G,OAAS,IACd6G,EAAG5G,QAGE,YAAI4G,SAKfzJ,EAAI2B,eACH,IAEH,IAAMqI,GAAiB,WACrBhK,EAAIgE,UACJ2D,EAAS,IACTE,EAAgB,KAeZoC,GAAY,SAACxE,EAAMC,EAAQC,GAAf,OAAwB,SAAC4B,EAAO2C,EAAgBvH,GAChE5B,QAAQC,IACN,QACA2B,EAAMwH,KAAI,SAACrE,GAAD,OAAOA,EAAEtC,UAErB,IAAM4G,EAAgBzH,EAAMA,EAAMC,OAAS,GAAGY,MACxC6G,EAAO9C,EAAQ6C,EACrBrJ,QAAQC,IACN,mBACAuG,EACA,eACA6C,EACA,IACAC,EACA,0BACA1E,GAEEA,IAAS0E,EA7Be,WAE5B,IAAMC,EAAK9B,EAAU,EACjB8B,EAAK5B,GACPO,IAAmC,GACnCR,EAAW,KAEXJ,EAAeD,EAAcQ,GAC7BH,EAAW6B,IAsBXC,IAEA9B,EAAW,GACXJ,EAAeH,IAWf8B,OAGJX,qBAAU,WAER,IAFc,EFvCX,SAAsBmB,GAI3B,IAFA,IAAIC,EAAgB,GAChBC,EAAe,GACV5E,EAAI,EAAGA,EAAI0E,EAAI5H,OAAS,EAAGkD,GAAK,EACvC2E,EAAc3H,MAAM0H,EAAI1E,IACxB4E,EAAa5H,KAAK0H,EAAI1E,EAAI,IANI,oBAQGN,GARH,IAQhC,2BAA0C,CAAC,IAAD,UAA/BC,EAA+B,EAA/BA,KAAMC,EAAyB,EAAzBA,OAAQC,EAAiB,EAAjBA,KAEvB,GAAI+E,EAAa9H,QAAU8C,EAAO9C,QAChC,GACE8H,EAAaC,WAAWC,QAAQ,KAAM,MAAQlF,GAC9CS,EAAYsE,EAAehF,GAE3B,MAAO,CAAEuC,OAAQrC,EAAMF,OAAMC,eAI/B,IADA,IAAImF,EAAS,EACNA,GAAUH,EAAa9H,OAAS8C,EAAO9C,QAAQ,CAGpD,IAFA,IAAIkI,EAAY,GACZC,EAAiB,GACZjF,EAAI+E,EAAQ/E,EAAIJ,EAAO9C,OAASiI,EAAQ/E,IAC/CgF,EAAUhI,KAAK2H,EAAc3E,IAC7BiF,EAAejI,KAAK4H,EAAa5E,IAEnC,IAAMkF,EAAoBD,EAAeJ,WAAWC,QAAQ,KAAM,IAC5DK,EAAU9E,EAAY2E,EAAWrF,GACvC,GAAIuF,IAAsBtF,GAAUuF,EAClC,MAAO,CAAEjD,OAAQrC,EAAMF,OAAMC,UAC/BmF,MA9B0B,8BAkChC,MAAO,GEQ+BK,CADSxD,EFwDnCyD,QAAO,SAACC,EAAKC,GAAN,OAAcD,EAAMC,EAAI3B,UAAY2B,EAAIvB,MAAM,KAAI,KEvDnDtD,EAHF,EAGNwB,OAHM,EAGKvC,KAHL,EAGWC,OACzB1F,EAAIiE,qBAAsBb,IAANoD,EAAiByD,GAAUxE,EAAMC,EAAQc,IAC7DyB,EAAUzB,QACApD,IAANoD,GAAmB8B,GACrBU,UAEQ5F,IAANoD,GAAmBsB,GACrB9H,EAAImE,IAAIiE,EAAa5B,KAEtB,CAACkB,IAMJ,OACE,yBAAKtC,UAAU,OACb,yBAAKkG,MAAO,CAAEC,QAAS,OAAQC,eAAgB,kBAC7C,yBAAKF,MAAO,CAAEC,QAAS,SACrB,kBAAC,EAAD,CACEhG,MAAM,kBACND,QAAS,kBACP2D,IAAoCnB,IAEtCzC,KAAMyC,IAER,kBAAC,EAAD,CACEvC,MAAM,YACN6B,SAAUuB,EACVpB,MAAOmB,IAET,kBAAC,EAAD,CACEnD,MAAM,mBACN6B,SAAU,SAACF,GACTiB,EAAsBjB,GACtBmB,EAAenB,IAEjBK,MAAOW,IAET,kBAAC,EAAD,CACE3C,MAAM,gBACN6B,SAAUyB,EACVtB,MAAOqB,IAET,2BAAG,0CAAH,OACA,2BAAIR,IAEN,4BAAQ9C,QAASH,EAAMsG,iBAAvB,iBACA,4BAAQnG,QArCO,WACnB6D,aAAauC,QACbvG,EAAMwG,WAmCF,UACA,kBAAC,EAAD,CACEpG,MAAM,iBACND,QAAS,kBAAMiD,GAAiBD,IAChCjD,KAAMiD,KAGV,yBAAKlD,UAAU,mBACZsC,EAAMyC,KAAI,SAACyB,GAAD,OACT,uBACEN,MAAO,CAAEO,SAAU,GAAI/B,MAAO8B,EAAM9B,MAAOgC,OAAQ,IACnDC,IAAKH,EAAMzJ,IAEVyJ,EAAMlC,oBAIDtG,IAAX4E,GACC,wBAAIsD,MAAO,CAAExB,MAAO9B,EAAS,OAAS,MAAO6D,SAAU,KACpD7D,EAAS,OAAS,QAGtBJ,EAAahF,OAAS,GAAK,2BAAIgF,GAC/BA,EAAahF,OAAS,GACrB,4BAAQ0C,QAAS0E,IAAjB,yBAED,4BAAQ1E,QAAStF,EAAImB,OAArB,eCpLM6K,EAAY,SAAC7G,GAAD,OAAW,6BAAMA,EAAMzE,Q,mBCkBhDuL,gBAhBuB,CACrBC,OAAQ,0CACRC,WAAY,qCACZC,YAAa,4CACbC,UAAW,qBACXC,cAAe,iCACfC,kBAAmB,eACnBC,MAAO,8CAWF,IAAMC,EACX,uCAAO,WAAOC,EAAOC,EAAU7I,GAAxB,mBAAA1C,EAAA,+EAEG6K,SAAgBW,2BAA2BF,EAAOC,GAFrD,6DAIH5L,QAAQL,MAAR,MAJG,mBAKI,GALJ,cAQCmM,EAAKZ,cARN,UASuBY,EACzBC,WAAW,SACXC,MAAM,QAAS,KAAML,GACrBM,MAZE,kBAcSC,SAAQ,SAAUC,GAC9BC,EAAUD,MAENE,EAAOD,EAAQ5M,QAGX8M,aApBL,kCAqBGF,EAAQG,IAAIC,IAAI,CACpBb,QACAW,aAAcvJ,IAvBb,kCAyBI,GAzBJ,WA2BCsJ,EAAKC,eAAiBvJ,EA3BvB,2CA4BM,GA5BN,kCA8BM,GA9BN,yDAAP,0DCnBW0J,EAAQ,SAACrI,GAAW,IAAD,EACJsC,mBAAS,IADL,mBACvBiF,EADuB,KAChBe,EADgB,OAEEhG,mBAAS,IAFX,mBAEvBkF,EAFuB,KAEbe,EAFa,OAGJjG,mBAAS,IAHL,mBAGvB3D,EAHuB,KAGhB6J,EAHgB,KAKxBC,EAAW,uCAAG,4BAAAxM,EAAA,sEACAqL,EAAKC,EAAOC,EAAU7I,GADtB,UACZ+B,EADY,OAElB9E,QAAQC,IAAI6E,IACRA,EAHc,wBAIhBsD,aAAaC,QAAQ,OAAQvD,GAC7BV,EAAM0I,QAAQhI,GALE,SAMV7F,EAAI0B,UAAUoC,GANJ,OAOhBqF,aAAaC,QAAQ,QAAStF,GAC9BqB,EAAM2I,aAAY,GARF,4CAAH,qDAYjB,OACE,6BACE,2BAAG,qCACH,2BAAO1G,SAAU,SAACC,GAAD,OAAOoG,EAASpG,EAAEC,OAAOC,QAAQA,MAAOmF,IACzD,2BAAG,qCACH,2BACEtF,SAAU,SAACC,GAAD,OAAOqG,EAAYrG,EAAEC,OAAOC,QACtCA,MAAOoF,EACPoB,KAAK,aAEP,2BAAG,+CACH,2BAAO3G,SAAU,SAACC,GAAD,OAAOsG,EAAStG,EAAEC,OAAOC,UAC1C,4BAAQjC,QAASsI,GAAjB,YC9BOI,EAAc,SAAC7I,GAAW,IAAD,EACVsC,mBAAS,SADC,mBAC7BF,EAD6B,KACtB0G,EADsB,KAEpC,OACE,oCACE,4BAAQ7G,SAAU,SAACC,GAAD,OAAO4G,EAAS5G,EAAEC,OAAOC,SACzC,4BAAQA,MAAM,SAAd,SACA,4BAAQA,MAAM,QAAd,QACA,4BAAQA,MAAM,QAAd,QACA,4BAAQA,MAAM,QAAd,QACA,4BAAQA,MAAM,QAAd,SAEF,4BAAQjC,QAAS,kBAAMH,EAAMiC,SAASG,EAAO2G,EAAkB3G,MAA/D,eAOA2G,EAAoB,CACxBC,MAAO,EACPC,KAAM,EACNC,KAAM,EACNC,KAAM,EACNC,KAAM,GC8COC,MAhEf,WAAgB,IAAD,EAC2B/G,oBAAS,GADpC,mBACNzC,EADM,KACQyJ,EADR,OAEehH,oBAAS,GAFxB,mBAENiH,EAFM,KAEEC,EAFF,OAGSlH,qBAHT,mBAGNmH,EAHM,KAGDC,EAHC,OAIqBpH,oBAAS,GAJ9B,mBAINqH,EAJM,KAIKC,EAJL,OAKiCtH,oBAAS,GAL1C,mBAKNgE,EALM,KAKWuD,EALX,OAMuBvH,mBAAS,GANhC,mBAMN3C,EANM,KAMMmK,EANN,KAwCb,OAjCA5F,qBAAU,WACR,IAAM+D,EAAOjE,aAAaI,QAAQ,QAC9B6D,GACF2B,EAAa3B,GAGfpN,EAAIuC,OAAJ,sBAAW,8BAAAnB,EAAA,yDACTuN,GAAU,KACJ7K,EAAQqF,aAAaI,QAAQ,UAF1B,0CAKavJ,EAAI0B,UAAUoC,GAL3B,OAKC+B,EALD,OAML9E,QAAQC,IAAI6E,GACZ4I,GAAgB,GAPX,kDASL1N,QAAQL,MAAR,MATK,6DAaV,IAcC+K,EACK,kBAAC,EAAD,CAAarE,SAPD,SAAC8H,EAAWpK,GAC/B9E,EAAI6D,OAASqL,EACbD,EAAcnK,GACd9E,EAAImB,QACJ6N,GAAmB,MAKhBF,GAAc9J,EAGf4J,EACK,kBAAC,EAAD,CAAWlO,MAAOkO,IAEtBF,EAIH1J,GACE,kBAAC,EAAD,CACEmK,QAASN,EACTlD,OA5Be,WACnBoD,GAAa,GACbN,GAAgB,GAChBzO,EAAIwB,sBA0BAiK,gBAAiB,kBAAMuD,GAAmB,IAC1ClK,WAAYA,IART,6CANA,kBAAC,EAAD,CAAO+I,QAASkB,EAAcjB,YAAaW,KCxClCW,QACW,cAA7BlG,OAAOmG,SAASC,UAEe,UAA7BpG,OAAOmG,SAASC,UAEhBpG,OAAOmG,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,EAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBC,MAAK,SAAAC,GACJA,EAAaC,gBAEdC,OAAM,SAAAzP,GACLK,QAAQL,MAAMA,EAAM0P,c","file":"static/js/main.89e73ebb.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/alert.4c4a3087.wav\";","import { DEV_MODE } from \"./env\";\r\n\r\nlet counter = 0;\r\nlet fakeData = [0, 1.01, 0.04, 0.13, 0.23, 0.02, 0.01]; //4r3b3b2r1r\r\nfunction getFakeData() {\r\n  counter = (counter + 1) % fakeData.length;\r\n  return { quote: fakeData[counter] };\r\n}\r\n\r\nclass API_c {\r\n  constructor() {\r\n    this.pausedTicks = 0;\r\n    this.resolution = 2;\r\n    this.symbol = \"R_100\";\r\n    this.callback = undefined;\r\n    this.onOpenCB = undefined;\r\n    this.timeout = undefined;\r\n    this.errorCB = undefined;\r\n    this.setupApiCallbacks();\r\n    this.lastValue = undefined;\r\n    this.isPlaying = true;\r\n    this.isAuthorized = false;\r\n    this.stack = [];\r\n    this.ws.onerror = console.error;\r\n    this.userToken = undefined;\r\n  }\r\n\r\n  setupApiCallbacks = () => {\r\n    this.ws = new WebSocket(\"wss://ws.binaryws.com/websockets/v3?app_id=22269\");\r\n    this.callbacks = {};\r\n\r\n    this.ws.onmessage = (msg) => {\r\n      const data = JSON.parse(msg.data);\r\n      // console.log(data, this.callbacks[data.msg_type], this.callbacks);\r\n      if (data.error) {\r\n        return this.callbacks[data.msg_type].reject(data.error);\r\n      }\r\n      if (!this.callbacks[data.msg_type]) {\r\n        debugger;\r\n      }\r\n      return this.callbacks[data.msg_type].resolve(data);\r\n    };\r\n    this.ws.onopen = () => {\r\n      console.log(\"open\");\r\n      setTimeout(this.onOpenCB, 1000);\r\n    };\r\n  };\r\n\r\n  //   onError = (cb) => (this.onErrorCB = cb);\r\n  reset = async () => {\r\n    console.log(\"reseting\");\r\n    if (\r\n      this.ws.readyState !== this.ws.CLOSED &&\r\n      this.ws.readyState !== this.ws.CLOSING\r\n    ) {\r\n      await this.cancelSubscription();\r\n      console.log(\"forgot all ticks\");\r\n      this.ws.close();\r\n      console.log(\"closed\");\r\n    }\r\n    setTimeout(() => {\r\n      this.onOpenCB = async () => {\r\n        await this.authorize();\r\n        this.startTicks();\r\n      };\r\n      this.setupApiCallbacks();\r\n    }, 1000);\r\n  };\r\n\r\n  resetTimer = () => {\r\n    if (this.timeout) {\r\n      clearTimeout(this.timeout);\r\n    }\r\n    this.timeout = setTimeout(this.reset, 200000);\r\n  };\r\n\r\n  send = (req) => this.ws.send(JSON.stringify(req));\r\n  handleProposalResponse = (data) => {\r\n    const id = data.proposal.id;\r\n    this.finishBuy(id, data.proposal.ask_price);\r\n  };\r\n  onOpen = (cb) => (this.onOpenCB = cb);\r\n  pushToStack = (d) => {\r\n    if (this.stack.length > 10) {\r\n      this.stack.shift();\r\n    }\r\n    this.stack.push(d);\r\n  };\r\n  setOnData = (f) => {\r\n    this.tickCB = (data) => {\r\n      console.log(\"tick\");\r\n      this.resetTimer();\r\n      if (data.proposal) this.handleProposalResponse(data);\r\n      if (!data.tick) return;\r\n      const t = DEV_MODE ? getFakeData() : data.tick;\r\n      this.pushToStack(t);\r\n      if (this.lastValue == undefined) {\r\n        this.lastValue = t.quote;\r\n        return;\r\n      }\r\n\r\n      if (this.isPlaying) {\r\n        f({ ...t, delta: t.quote - this.lastValue });\r\n        this.lastValue = t.quote;\r\n      } else {\r\n        this.pausedTicks--;\r\n        if (this.pausedTicks === 0) {\r\n          this.callback && this.callback(t.quote, this.lastValue, this.stack);\r\n        }\r\n      }\r\n    };\r\n  };\r\n  //api external methods\r\n  startTicks = () =>\r\n    new Promise((resolve, reject) => {\r\n      console.log(\"send ticks\");\r\n      this.send({ ticks: this.symbol });\r\n      this.callbacks[\"tick\"] = { resolve: this.tickCB, reject };\r\n      console.log(\"callbacks after that\", this.callbacks);\r\n    });\r\n\r\n  authorize = (token) =>\r\n    new Promise((resolve, reject) => {\r\n      if (!token) {\r\n        this.send({ authorize: this.userToken });\r\n      } else {\r\n        this.send({ authorize: token });\r\n        this.userToken = token;\r\n      }\r\n      this.callbacks[\"authorize\"] = { resolve, reject };\r\n      // this.isAuthorized = true;\r\n    });\r\n\r\n  unpause = () => {\r\n    this.isPlaying = true;\r\n  };\r\n\r\n  setShouldFreeze = (b, cb) => {\r\n    if (b && this.isPlaying) {\r\n      this.isPlaying = false;\r\n      this.pausedTicks = 6;\r\n      this.callback = cb;\r\n    }\r\n  };\r\n\r\n  buy = async (amount, isUp) => {\r\n    const data = await new Promise((resolve, reject) => {\r\n      console.log(\"proposal\", amount, isUp ? \"up\" : \"down\");\r\n      this.send({\r\n        proposal: 1,\r\n        amount: amount,\r\n        basis: \"stake\",\r\n        contract_type: isUp ? \"CALL\" : \"PUT\",\r\n        currency: \"USD\",\r\n        duration: 5,\r\n        duration_unit: \"t\",\r\n        symbol: this.symbol,\r\n      });\r\n      this.callbacks[\"proposal\"] = { resolve, reject };\r\n    });\r\n    const id = data.proposal.id;\r\n    return new Promise((resolve, reject) => {\r\n      this.send({\r\n        buy: id,\r\n        price: data.proposal.ask_price,\r\n      });\r\n      this.callbacks[\"buy\"] = { resolve, reject };\r\n    });\r\n  };\r\n\r\n  cancelSubscription = () =>\r\n    new Promise((resolve, reject) => {\r\n      this.send({ forget_all: \"ticks\" });\r\n      this.callbacks[\"forget_all\"] = { resolve, reject };\r\n    });\r\n}\r\n\r\nexport const API = new API_c();\r\n","import React, { useEffect } from \"react\";\r\nimport \"./ToggleSwitch.css\";\r\n\r\nexport const ToggleSwitch = (props) => {\r\n  return (\r\n    <div className=\"tg-group\">\r\n      <div\r\n        className={\"tg-container\" + (props.isOn ? \" tg-on\" : \"\")}\r\n        onClick={props.onClick}\r\n      >\r\n        <div className=\"tg-slider\" />\r\n      </div>\r\n      {props.label && <p className=\"tg-label\">{props.label}</p>}\r\n    </div>\r\n  );\r\n};\r\n","const RULES = [\r\n  \r\n //3 Digitos RISE\r\n{rule: [\"i\", \"pM1\", \"iM2\"], colors: \"rrb\",flag:true },//R1\r\n{rule: [\"i\", \"pM1\", \"im2\"], colors: \"rbr\",flag:true },//R2\r\n{rule: [\"i\", \"pM1\", \"iM2\"], colors: \"bbb\",flag:true },//R3\r\n{rule: [\"p\", \"iM1\", \"pM2\"], colors: \"rrb\",flag:true },//R4\r\n{rule: [\"p\", \"iM1\", \"pm1\"], colors: \"rbr\",flag:true },//R5\r\n{rule: [\"p\", \"iM1\", \"pM2\"], colors: \"bbb\",flag:true },//R6\r\n\r\n\r\n\r\n//3 Digitos FALL\r\n{rule: [\"i\", \"pM1\", \"iM2\"], colors: \"bbr\",flag:false },//R1\r\n{rule: [\"i\", \"pM1\", \"im2\"], colors: \"brb\",flag:false },//R2\r\n{rule: [\"i\", \"pM1\", \"iM2\"], colors: \"rrr\",flag:false },//R3\r\n{rule: [\"p\", \"iM1\", \"pM2\"], colors: \"bbr\",flag:false },//R4\r\n{rule: [\"p\", \"iM1\", \"pm1\"], colors: \"brb\",flag:false },//R5\r\n{rule: [\"p\", \"iM1\", \"pM2\"], colors: \"rrr\",flag:false },//R6\r\n\r\n  //   { rule: [\"\", \"\", \"\"], colors: \"bbb\", flag: true }, //regra teste\r\n];\r\n\r\n//4r3b3b2r1r\r\n\r\n// guia das regras:\r\n// p par\r\n// i impar\r\n// m menor que\r\n// M maior que\r\n// n menor ou igual a\r\n// N maior ou igual a\r\n// dx(e) diferença entre este e o x ser igual a e\r\n// e numero igual ao valor\r\n\r\nfunction split_rules(rule) {\r\n  let res = [];\r\n  let i = 0;\r\n  while (i < rule.length) {\r\n    if (rule[i] === \"p\" || rule[i] === \"i\") {\r\n      res.push([rule[i], 0, 0]);\r\n      i += 1;\r\n    } else if (rule[i] === \"d\") {\r\n      const delta_s = rule.substr(i).split(/[(|)]/)[1];\r\n      res.push([rule[i], rule[i + 1] - 1, parseInt(delta_s)]);\r\n      i += delta_s.length + 4;\r\n    } else {\r\n      res.push([rule[i], rule[i + 1] - 1, 0]);\r\n      i += 2;\r\n    }\r\n  }\r\n  // console.log(res);\r\n  return res;\r\n}\r\n\r\nfunction match_lista(numbers, rules) {\r\n  // deram match em todas as regras, retorna o esperado da regra\r\n  for (let i = 0; i < rules.length; i++) {\r\n    if (!validate_number(numbers[i], split_rules(rules[i]), numbers)) {\r\n      return false;\r\n    }\r\n  }\r\n  // console.log(\"matched\");\r\n  return true;\r\n}\r\n\r\nexport function testSequence(seq) {\r\n  // console.log(seq);\r\n  let input_numbers = [];\r\n  let input_colors = [];\r\n  for (let i = 0; i < seq.length - 1; i += 2) {\r\n    input_numbers.push(+seq[i]);\r\n    input_colors.push(seq[i + 1]);\r\n  }\r\n  for (let { rule, colors, flag } of RULES) {\r\n    // console.log(rule, colors, flag);\r\n    if (input_colors.length <= colors.length) {\r\n      if (\r\n        input_colors.toString().replace(/,/g, \"\") === colors &&\r\n        match_lista(input_numbers, rule)\r\n      ) {\r\n        return { result: flag, rule, colors };\r\n      }\r\n    } else {\r\n      let offset = 0;\r\n      while (offset <= input_colors.length - colors.length) {\r\n        let numbers_w = [];\r\n        let input_colors_w = [];\r\n        for (let i = offset; i < colors.length + offset; i++) {\r\n          numbers_w.push(input_numbers[i]);\r\n          input_colors_w.push(input_colors[i]);\r\n        }\r\n        const inputColorsString = input_colors_w.toString().replace(/,/g, \"\");\r\n        const mResult = match_lista(numbers_w, rule);\r\n        if (inputColorsString === colors && mResult)\r\n          return { result: flag, rule, colors };\r\n        offset++;\r\n      }\r\n    }\r\n  }\r\n  return {};\r\n}\r\n\r\nfunction validate_number(n, rules, numbers) {\r\n  // console.log(\"validate\", n, rules, numbers);\r\n  for (let r of rules) {\r\n    let rule = r[0];\r\n    let operand = numbers[r[1]];\r\n    let delta = r[2];\r\n    if (rule === \"p\" && eh_impar(n)) {\r\n      return false;\r\n    } else if (rule === \"i\" && eh_par(n)) {\r\n      return false;\r\n    } else if (rule === \"m\" && maior_ou_igual(n, operand)) {\r\n      return false;\r\n    } else if (rule === \"M\" && menor_ou_igual(n, operand)) {\r\n      return false;\r\n    } else if (rule === \"n\" && maior(n, operand)) {\r\n      return false;\r\n    } else if (rule === \"N\" && menor(n, operand)) {\r\n      return false;\r\n    } else if (rule === \"d\" && !diferenca(n, operand, delta)) {\r\n      return false;\r\n    } else if (rule === \"e\" && !vale(n, r[1] + 1)) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction eh_par(d) {\r\n  return d % 2 === 0;\r\n}\r\n\r\nfunction eh_impar(d) {\r\n  return d % 2 === 1;\r\n}\r\n\r\nfunction maior_ou_igual(d1, d2) {\r\n  return d1 >= d2;\r\n}\r\n\r\nfunction menor(d1, d2) {\r\n  return d1 < d2;\r\n}\r\n\r\nfunction maior(d1, d2) {\r\n  return d1 > d2;\r\n}\r\n\r\nfunction menor_ou_igual(d1, d2) {\r\n  return d1 <= d2;\r\n}\r\n\r\nfunction diferenca(d1, d2, delta) {\r\n  return d1 - d2 === delta;\r\n}\r\n\r\nfunction vale(d1, v) {\r\n  return d1 === v;\r\n}\r\n\r\nexport function objectsToPatternString(list) {\r\n  return list.reduce((acc, cur) => acc + cur.lastDigit + cur.color[0], \"\");\r\n}\r\n\r\n// console.log(testSequence(\"4r3b3b2r1r\"));\r\n","import React from \"react\";\r\n\r\nexport const Input = (props) => (\r\n  <div>\r\n    <p>{props.label}</p>\r\n    <input\r\n      onChange={(e) => props.onChange(e.target.value)}\r\n      value={props.value}\r\n    />\r\n  </div>\r\n);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { API } from \"../api\";\r\nimport { MultipleInput } from \"../components/MultipleInput\";\r\nimport { ToggleSwitch } from \"../components/ToggleSwitch\";\r\nimport { RULE_TESTING_MODE, DEV_MODE } from \"../env\";\r\nimport { objectsToPatternString, testSequence } from \"../rule-compiler\";\r\nimport useSound from \"use-sound\";\r\nimport alertSound from \"../statics/alert.wav\";\r\nimport { Input } from \"../components/Input\";\r\n\r\nexport const Dashboard = (props) => {\r\n  const [queue, setQueue] = useState([]);\r\n  const [ruleFeedback, setRuleFeedback] = useState([]);\r\n  const [automaticTradeEnabled, setAutomaticTradeEnabled] = useState(false);\r\n  const [result, setResult] = useState(undefined);\r\n  const [inicialTradeAmount, setInicialTradeAmount] = useState(0);\r\n  const [tradeAmount, setTradeAmount] = useState(0);\r\n  const [soundEnabled, setSoundEnabled] = useState(true);\r\n  const [nErrors, setNErrors] = useState(0);\r\n  const [maxNErrors, setMaxNErrors] = useState(5);\r\n  const [amountMultiplier, setAmountMultiplier] = useState(2);\r\n  const [play] = useSound(alertSound);\r\n\r\n  const PAUSED_TIME = 10000;\r\n  const setAutomaticTradeEnabledPersistent = (value) => {\r\n    window.localStorage.setItem(\"automaticTradeEnabled\", value);\r\n    setAutomaticTradeEnabled(value);\r\n  };\r\n  useEffect(() => {\r\n    const ATE = window.localStorage.getItem(\"automaticTradeEnabled\");\r\n    setAutomaticTradeEnabled(ATE);\r\n    const handleNewPoint = (d) => {\r\n      setQueue((q) => {\r\n        let _q = [...q];\r\n        _q.push({\r\n          value: d.quote,\r\n          lastDigit: Math.round(d.quote * Math.pow(10, props.resolution)) % 10,\r\n          color: d.delta > 0 ? \"blue\" : \"red\",\r\n          id: d.epoch,\r\n        });\r\n        if (_q.length > 10) {\r\n          _q.shift();\r\n        }\r\n        // console.log(_q.map((i) => i.lastDigit));\r\n        return [..._q];\r\n      });\r\n    };\r\n    API.setOnData(handleNewPoint);\r\n    // API.onError(props.onError);\r\n    API.startTicks();\r\n  }, []);\r\n\r\n  const resumeAnalisys = () => {\r\n    API.unpause();\r\n    setQueue([]);\r\n    setRuleFeedback(\"\");\r\n  };\r\n\r\n  const handlePredictionError = () => {\r\n    // errou\r\n    const nE = nErrors + 1;\r\n    if (nE > maxNErrors) {\r\n      setAutomaticTradeEnabledPersistent(false);\r\n      setNErrors(0);\r\n    } else {\r\n      setTradeAmount(tradeAmount * amountMultiplier);\r\n      setNErrors(nE);\r\n    }\r\n  };\r\n\r\n  const onUnpause = (rule, colors, flag) => (value, _decisionValue, stack) => {\r\n    console.log(\r\n      \"stack\",\r\n      stack.map((i) => i.quote)\r\n    );\r\n    const decisionValue = stack[stack.length - 6].quote;\r\n    const rose = value > decisionValue;\r\n    console.log(\r\n      \"comparando atual\",\r\n      value,\r\n      \"com stack[1]\",\r\n      decisionValue,\r\n      \"=\",\r\n      rose,\r\n      \"previsto pela regra era\",\r\n      flag\r\n    );\r\n    if (flag !== rose) {\r\n      handlePredictionError();\r\n    } else {\r\n      setNErrors(0);\r\n      setTradeAmount(inicialTradeAmount);\r\n    }\r\n    if (RULE_TESTING_MODE) {\r\n      console.log(\"unpause\", value, decisionValue);\r\n      let feedback = \"A regra previu \" + (flag ? \"RISE\" : \"FALL\");\r\n      feedback += \" e o Resultado foi \" + (rose ? \"RISE\" : \"FALL\");\r\n      feedback += \" [\" + rule.toString() + \"] \" + colors;\r\n      console.log(feedback);\r\n      setRuleFeedback(feedback);\r\n      setTimeout(resumeAnalisys, PAUSED_TIME);\r\n    } else {\r\n      resumeAnalisys();\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    // console.log(\"queue chanced, useEffect running\");\r\n    const patternString = objectsToPatternString(queue);\r\n    const { result: r, rule, colors } = testSequence(patternString);\r\n    API.setShouldFreeze(r !== undefined, onUnpause(rule, colors, r));\r\n    setResult(r);\r\n    if (r !== undefined && soundEnabled) {\r\n      play();\r\n    }\r\n    if (r !== undefined && automaticTradeEnabled) {\r\n      API.buy(tradeAmount, r);\r\n    }\r\n  }, [queue]);\r\n\r\n  const handleLogout = () => {\r\n    localStorage.clear();\r\n    props.logout();\r\n  };\r\n  return (\r\n    <div className=\"App\">\r\n      <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n        <div style={{ display: \"flex\" }}>\r\n          <ToggleSwitch\r\n            label=\"Modo Automatico\"\r\n            onClick={() =>\r\n              setAutomaticTradeEnabledPersistent(!automaticTradeEnabled)\r\n            }\r\n            isOn={automaticTradeEnabled}\r\n          />\r\n          <Input\r\n            label=\"Stop Loss\"\r\n            onChange={setMaxNErrors}\r\n            value={maxNErrors}\r\n          />\r\n          <Input\r\n            label=\"Valor de Entrada\"\r\n            onChange={(v) => {\r\n              setInicialTradeAmount(v);\r\n              setTradeAmount(v);\r\n            }}\r\n            value={inicialTradeAmount}\r\n          />\r\n          <Input\r\n            label=\"Multiplicador\"\r\n            onChange={setAmountMultiplier}\r\n            value={amountMultiplier}\r\n          />\r\n          <p><b>Valor atual</b> =:</p>\r\n          <p>{tradeAmount}</p>\r\n        </div>\r\n        <button onClick={props.showIndexScreen}>Trocar Indice</button>\r\n        <button onClick={handleLogout}>Logout</button>\r\n        <ToggleSwitch\r\n          label=\"Avisos sonoros\"\r\n          onClick={() => setSoundEnabled(!soundEnabled)}\r\n          isOn={soundEnabled}\r\n        />\r\n      </div>\r\n      <div className=\"digit-container\">\r\n        {queue.map((point) => (\r\n          <p\r\n            style={{ fontSize: 35, color: point.color, margin: 10 }}\r\n            key={point.id}\r\n          >\r\n            {point.lastDigit}\r\n          </p>\r\n        ))}\r\n      </div>\r\n      {result !== undefined && (\r\n        <h3 style={{ color: result ? \"blue\" : \"red\", fontSize: 60 }}>\r\n          {result ? \"RISE\" : \"FALL\"}\r\n        </h3>\r\n      )}\r\n      {ruleFeedback.length > 0 && <p>{ruleFeedback}</p>}\r\n      {ruleFeedback.length > 0 && (\r\n        <button onClick={resumeAnalisys}>Voltar para a analise</button>\r\n      )}\r\n      {<button onClick={API.reset}>Atualizar</button>}\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\n\r\nexport const ErrorPage = (props) => <div>{props.error}</div>;\r\n","import * as firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport \"firebase/firestore\";\r\n\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyB0Tn75fPotov6ZzLPqaOhoW5dF3MwkpTE\",\r\n  authDomain: \"binary-sequence-db.firebaseapp.com\",\r\n  databaseURL: \"https://binary-sequence-db.firebaseio.com\",\r\n  projectId: \"binary-sequence-db\",\r\n  storageBucket: \"binary-sequence-db.appspot.com\",\r\n  messagingSenderId: \"811701963619\",\r\n  appId: \"1:811701963619:web:727c69305900b2c73d2156\",\r\n  // apiKey: \"AIzaSyAQ5r3sn-cYHrbmueqeqcp9__iNgHxD0K0\",\r\n  // authDomain: \"binary-sequence-eaaa3.firebaseapp.com\",\r\n  // databaseURL: \"https://binary-sequence-eaaa3.firebaseio.com\",\r\n  // projectId: \"binary-sequence-eaaa3\",\r\n  // storageBucket: \"binary-sequence-eaaa3.appspot.com\",\r\n  // messagingSenderId: \"823465489065\",\r\n  // appId: \"1:823465489065:web:19434137faacf8685aefb8\",\r\n};\r\nfirebase.initializeApp(firebaseConfig);\r\n\r\nexport const auth = (function () {\r\n  return async (email, password, token) => {\r\n    try {\r\n      await firebase.auth().signInWithEmailAndPassword(email, password);\r\n    } catch (error) {\r\n      console.error(error);\r\n      return false;\r\n    }\r\n\r\n    const db = firebase.firestore();\r\n    const querySnapshot = await db\r\n      .collection(\"users\")\r\n      .where(\"email\", \"==\", email)\r\n      .get();\r\n    let userDoc;\r\n    querySnapshot.forEach(function (doc) {\r\n      userDoc = doc;\r\n    });\r\n    const user = userDoc.data();\r\n\r\n    debugger;\r\n    if (!user.binary_token) {\r\n      await userDoc.ref.set({\r\n        email,\r\n        binary_token: token,\r\n      });\r\n      return true;\r\n    } else {\r\n      if (user.binary_token === token) {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n  };\r\n})();\r\n","import React, { useState } from \"react\";\r\nimport { auth } from \"../auth\";\r\nimport { API } from \"../api\";\r\n\r\nexport const Login = (props) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [token, setToken] = useState(\"\");\r\n\r\n  const handleLogin = async () => {\r\n    const res = await auth(email, password, token);\r\n    console.log(res);\r\n    if (res) {\r\n      localStorage.setItem(\"user\", res);\r\n      props.onLogin(res);\r\n      await API.authorize(token);\r\n      localStorage.setItem(\"token\", token);\r\n      props.onAuthorize(true);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <p><b>Email</b></p>\r\n      <input onChange={(e) => setEmail(e.target.value)} value={email} />\r\n      <p><b>Senha</b></p>\r\n      <input\r\n        onChange={(e) => setPassword(e.target.value)}\r\n        value={password}\r\n        type=\"password\"\r\n      />\r\n      <p><b>Token da binary</b></p>\r\n      <input onChange={(e) => setToken(e.target.value)} />\r\n      <button onClick={handleLogin}>Entrar</button>\r\n    </div>\r\n  );\r\n};\r\n","import React from \"react\";\r\nimport { useState } from \"react\";\r\n\r\nexport const IndexScreen = (props) => {\r\n  const [value, setValue] = useState(\"R_100\");\r\n  return (\r\n    <>\r\n      <select onChange={(e) => setValue(e.target.value)}>\r\n        <option value=\"R_100\">R_100</option>\r\n        <option value=\"R_75\">R_75</option>\r\n        <option value=\"R_50\">R_50</option>\r\n        <option value=\"R_25\">R_25</option>\r\n        <option value=\"R_10\">R_10</option>\r\n      </select>\r\n      <button onClick={() => props.onChange(value, decimalPlacesDict[value])}>\r\n        Confirmar\r\n      </button>\r\n    </>\r\n  );\r\n};\r\n\r\nconst decimalPlacesDict = {\r\n  R_100: 2,\r\n  R_75: 4,\r\n  R_50: 4,\r\n  R_25: 3,\r\n  R_10: 3,\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { API } from \"./api\";\r\nimport \"./App.css\";\r\nimport { Dashboard } from \"./pages/Dashboard\";\r\nimport { ErrorPage } from \"./pages/Error\";\r\nimport { Login } from \"./pages/Login\";\r\nimport { IndexScreen } from \"./pages/IndexScreen\";\r\n\r\nfunction App() {\r\n  const [isAuthorized, setIsAuthorized] = useState(false);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [err, setErr] = useState();\r\n  const [isLogedIn, setIsLogedIn] = useState(false);\r\n  const [showIndexScreen, setShowIndexScreen] = useState(false);\r\n  const [resolution, setResolution] = useState(2);\r\n  useEffect(() => {\r\n    const user = localStorage.getItem(\"user\");\r\n    if (user) {\r\n      setIsLogedIn(user);\r\n    }\r\n\r\n    API.onOpen(async () => {\r\n      setIsOpen(true);\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        try {\r\n          const res = await API.authorize(token);\r\n          console.log(res);\r\n          setIsAuthorized(true);\r\n        } catch (e) {\r\n          console.error(e);\r\n        }\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleLogout = () => {\r\n    setIsLogedIn(false);\r\n    setIsAuthorized(false);\r\n    API.cancelSubscription();\r\n  };\r\n\r\n  const changeSymbol = (newSymbol, resolution) => {\r\n    API.symbol = newSymbol;\r\n    setResolution(resolution);\r\n    API.reset();\r\n    setShowIndexScreen(false);\r\n  };\r\n  if (showIndexScreen) {\r\n    return <IndexScreen onChange={changeSymbol} />;\r\n  }\r\n  if (!isLogedIn || !isAuthorized) {\r\n    return <Login onLogin={setIsLogedIn} onAuthorize={setIsAuthorized} />;\r\n  }\r\n  if (err) {\r\n    return <ErrorPage error={err} />;\r\n  }\r\n  if (!isOpen) {\r\n    return <h1>Carregando...</h1>;\r\n  }\r\n  return (\r\n    isAuthorized && (\r\n      <Dashboard\r\n        onError={setErr}\r\n        logout={handleLogout}\r\n        showIndexScreen={() => setShowIndexScreen(true)}\r\n        resolution={resolution}\r\n      />\r\n    )\r\n  );\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n"],"sourceRoot":""}